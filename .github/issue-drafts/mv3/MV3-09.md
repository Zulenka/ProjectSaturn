Parent: #1934

## Summary

Port action/popup behavior from MV2 assumptions to MV3-compatible behavior.

## Checklist

- [ ] Move Chromium action codepaths to MV3 action model.
- [ ] Replace popup prefetch/injectability checks tied to MV2 APIs.
- [ ] Validate badge/menu behavior after service-worker restart.

## Definition of Done

- Popup/action behavior meets expected UX on supported Chromium targets.

